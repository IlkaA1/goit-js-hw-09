{"mappings":"gfAAAA,EAAA,SAEA,IAAMC,EAAWC,SAASC,cAAc,mBAClCC,EAASF,SAASC,cAAc,mBAChCE,EAAOH,SAASC,cAAc,iBAC9BG,EAAQJ,SAASC,cAAc,kBAwCrC,SAASI,EAAcC,EAAUC,GAE/B,OAAO,IAAIC,SAAQ,SAACC,EAAKC,GACHC,KAAKC,SAAW,GAErCH,EAAKI,QAAQC,IAAI,CAAER,WAAUS,MAAAR,KAE7BG,EAAIG,QAAQC,IAAI,CAAER,WAAUS,MAAAR,I,IA7C/BR,EAASiB,iBAAiB,SAM1B,SAAkBC,GAChBA,EAAIC,iBASN,IANA,IAAMC,EAAWjB,EAAOkB,MAClBC,EAAeC,OAAOlB,EAAMgB,OAC5BG,EAAiBD,OAAOnB,EAAKiB,OAC7BI,EAAkB,GAGfC,EAAI,EAAGA,EAAIN,EAAUM,GAAK,EACjCD,EAAgBE,KAAKD,GAGvBZ,QAAQC,IAAIU,GAEKA,EAAgBG,KAAI,SAACC,EAAQC,GAS5C,OAPExB,EAAcwB,EADL,IAARA,EACiBR,EAEAE,GAKbK,C,OAkBTvB,EAAc,EAAE,MACbyB,MAAK,SAAAC,G,IAAGzB,EAAQyB,EAARzB,SAAU0B,EAAKD,EAALhB,MACjBF,QAAQC,IAAI,uBAAwCmB,OAAf3B,EAAS,QAAY2B,OAAND,EAAM,M,IAE3DE,OAAM,SAAAH,G,IAAGzB,EAAQyB,EAARzB,SAAU6B,EAAKJ,EAALhB,MAClBF,QAAQC,IAAI,sBAAqCmB,OAAf3B,EAAS,QAAY2B,OAANE,EAAM,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst submitBt = document.querySelector('[type=\"submit\"]');\nconst amount = document.querySelector('[name=\"amount\"]');\nconst step = document.querySelector('[name=\"step\"]');\nconst delay = document.querySelector('[name=\"delay\"]');\n\nsubmitBt.addEventListener('click', onSubmit);\n\n\n\n\n\nfunction onSubmit(evt){\n  evt.preventDefault();\n\n\nconst quantity = amount.value;\nconst firstTimeOut = Number(delay.value);\nconst allNextTimeOut = Number(step.value);\nconst quantityPromies = [];\n\n\nfor (let i = 0; i < quantity; i += 1){\n  quantityPromies.push(i);\n}\n\nconsole.log(quantityPromies);\n\nconst promises = quantityPromies.map((promis, idx) => {\n  if(idx === 0){\n    createPromise(idx,firstTimeOut);\n  } else {\n    createPromise(idx,allNextTimeOut);\n  }\n\n \n  \n  return promis;\n});\n};\n \n\n\n\nfunction createPromise(position, delay) {\n\n  return new Promise((res, rej) =>{\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n   res (console.log({ position, delay }));\n  } else {\n   rej(console.log({ position, delay }));\n  }\n})};\n\ncreatePromise(2,1500)\n  .then(({ position, delay }) => {\n    console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n  .catch(({ position, delay }) => {\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n\n  //createPromise(3,200);\n//createPromise(2,1500)\n//.then(result => Notiflix.Notify.success('Sol lucet omnibus')).catch(error => \n//  Notiflix.Notify.failure('Qui timide rogat docet negare'));\n\n//createPromise(2, 1500)\n//  .then(({ position, delay }) => {\n//    Notiflix.Notify.success('Sol lucet omnibus');\n//  })\n//  .catch(({ position, delay }) => {\n//    Notiflix.Notify.failure('Qui timide rogat docet negare');\n//  });"],"names":["parcelRequire","$ce04d3a99e08e73b$var$submitBt","document","querySelector","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$delay","$ce04d3a99e08e73b$var$createPromise","position","delay1","Promise","res","rej","Math","random","console","log","delay","addEventListener","evt","preventDefault","quantity","value","firstTimeOut","Number","allNextTimeOut","quantityPromies","i","push","map","promis","idx","then","param","delay2","concat","catch","delay3"],"version":3,"file":"03-promises.89d5b38c.js.map"}