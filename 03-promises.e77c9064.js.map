{"mappings":"oeAAAA,EAAA,SAEA,MAAMC,EAAWC,SAASC,cAAc,mBAClCC,EAASF,SAASC,cAAc,mBAChCE,EAAOH,SAASC,cAAc,iBAC9BG,EAAQJ,SAASC,cAAc,kBAwCrC,SAASI,EAAcC,EAAUC,GAE/B,OAAO,IAAIC,SAAQ,CAACC,EAAKC,KACHC,KAAKC,SAAW,GAErCH,EAAKI,QAAQC,IAAI,C,SAAER,EAAUS,MAAAR,KAE7BG,EAAIG,QAAQC,IAAI,C,SAAER,EAAUS,MAAAR,IAAS,G,CA7CxCR,EAASiB,iBAAiB,SAM1B,SAAkBC,GAChBA,EAAIC,iBAGN,MAAMC,EAAWjB,EAAOkB,MAClBC,EAAeC,OAAOlB,EAAMgB,OAC5BG,EAAiBD,OAAOnB,EAAKiB,OAC7BI,EAAkB,GAGxB,IAAK,IAAIC,EAAI,EAAGA,EAAIN,EAAUM,GAAK,EACjCD,EAAgBE,KAAKD,GAGvBZ,QAAQC,IAAIU,GAEKA,EAAgBG,KAAI,CAACC,EAAQC,KAE1CxB,EAAcwB,EADL,IAARA,EACiBR,EAEAE,GAKbK,I,IAkBTvB,EAAc,EAAE,MACbyB,MAAK,EAACxB,SAAEA,EAAUS,MAAAgB,MACjBlB,QAAQC,IAAI,uBAAqBR,QAAiByB,MAAU,IAE7DC,OAAM,EAAC1B,SAAEA,EAAUS,MAAAkB,MAClBpB,QAAQC,IAAI,sBAAoBR,QAAe2B,MAAU","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst submitBt = document.querySelector('[type=\"submit\"]');\nconst amount = document.querySelector('[name=\"amount\"]');\nconst step = document.querySelector('[name=\"step\"]');\nconst delay = document.querySelector('[name=\"delay\"]');\n\nsubmitBt.addEventListener('click', onSubmit);\n\n\n\n\n\nfunction onSubmit(evt){\n  evt.preventDefault();\n\n\nconst quantity = amount.value;\nconst firstTimeOut = Number(delay.value);\nconst allNextTimeOut = Number(step.value);\nconst quantityPromies = [];\n\n\nfor (let i = 0; i < quantity; i += 1){\n  quantityPromies.push(i);\n}\n\nconsole.log(quantityPromies);\n\nconst promises = quantityPromies.map((promis, idx) => {\n  if(idx === 0){\n    createPromise(idx,firstTimeOut);\n  } else {\n    createPromise(idx,allNextTimeOut);\n  }\n\n \n  \n  return promis;\n});\n};\n \n\n\n\nfunction createPromise(position, delay) {\n\n  return new Promise((res, rej) =>{\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n   res (console.log({ position, delay }));\n  } else {\n   rej(console.log({ position, delay }));\n  }\n})};\n\ncreatePromise(2,1500)\n  .then(({ position, delay }) => {\n    console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n  .catch(({ position, delay }) => {\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n\n  //createPromise(3,200);\n//createPromise(2,1500)\n//.then(result => Notiflix.Notify.success('Sol lucet omnibus')).catch(error => \n//  Notiflix.Notify.failure('Qui timide rogat docet negare'));\n\n//createPromise(2, 1500)\n//  .then(({ position, delay }) => {\n//    Notiflix.Notify.success('Sol lucet omnibus');\n//  })\n//  .catch(({ position, delay }) => {\n//    Notiflix.Notify.failure('Qui timide rogat docet negare');\n//  });"],"names":["parcelRequire","$47d4ff9957288465$var$submitBt","document","querySelector","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$step","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$createPromise","position","delay1","Promise","res","rej","Math","random","console","log","delay","addEventListener","evt","preventDefault","quantity","value","firstTimeOut","Number","allNextTimeOut","quantityPromies","i","push","map","promis","idx","then","delay2","catch","delay3"],"version":3,"file":"03-promises.e77c9064.js.map"}